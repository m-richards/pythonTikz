

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How to contribute &mdash; pythonTikZ 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'0.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Change Log" href="changelog.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pythonTikZ
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="usage.html">Library usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-up-the-development-environment">Setting up the development environment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#linux-dependencies">Linux dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-the-source-code">Getting the source code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-environment-setup">Python environment setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#some-tips-before-starting">Some tips before starting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#some-rules">Some rules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pythonTikZ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>How to contribute</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/contributing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-to-contribute">
<h1>How to contribute<a class="headerlink" href="#how-to-contribute" title="Permalink to this headline">¶</a></h1>
<p>First of all, if anything is incorrect or something is missing on this page (or
any other for that matter), please send in a pull request. It is important that
setting up the development environment is as painless as possible.</p>
<div class="section" id="setting-up-the-development-environment">
<h2>Setting up the development environment<a class="headerlink" href="#setting-up-the-development-environment" title="Permalink to this headline">¶</a></h2>
<p>It is <strong>strongly</strong> recommended to have a Linux environment set up
in the development process to run the integration tests from. They are written
in bash and so mileage may vary on other operating systems.</p>
<p>This does not however mean that all development needs to take place on a
Linux OS. I develop on windows and use WSL to run the integration tests.</p>
<p>Regardless of operating system, you will however need a LaTeX distribution
(obviously) so that pdflatex or latexmk can be run.</p>
<p>Note that TeXLive need not be used, MikTeX or other LaTeX distributions should
work fine (I build with pdflatex using MikTeX on windows, but TeXLive on WSL)</p>
<div class="section" id="linux-dependencies">
<h3>Linux dependencies<a class="headerlink" href="#linux-dependencies" title="Permalink to this headline">¶</a></h3>
<p>For Ubuntu and other Debian based systems:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>sudo apt-get install python3 python3-dev virtualenv <span class="se">\</span>
    texlive-pictures texlive-science texlive-latex-extra <span class="se">\</span>
    imagemagick
</pre></div>
</div>
</div>
<div class="section" id="getting-the-source-code">
<h3>Getting the source code<a class="headerlink" href="#getting-the-source-code" title="Permalink to this headline">¶</a></h3>
<p>You need your own fork of the <a class="reference external" href="https://github.com/m-richards/pythonTikz">Github repository</a> by using the Github fork button. You will
then need to clone your version of the repo using the normal way, something
like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git clone https://github.com/YourUserName/pythonTikz
<span class="nb">cd</span> pythontikz
</pre></div>
</div>
<p>It is also fairly likely you will need a fork of the parent library
<a class="reference external" href="https://github.com/JelteF/PyLaTeX">https://github.com/JelteF/PyLaTeX</a> if you need to modify any of the
underlying base classes (you can download a local copy in the same -
see its own contributing documentation for details).  pythonTikz
is designed to operate as a wrapper sitting on top of this library to reduce
maintenance and avoid duplication of code.</p>
<p>This doesn&#8217;t however mean that you should make changes and submit pull
requests to PyLaTeX (unless of course your changes are more general than
pythonTikz, in which case you should probably be contributing there).
Instead, make your changes in your local pythontikz fork and adjust
the inheritance chain accordingly.</p>
<p>Make your own branch for your specific feature or fix (don&#8217;t do this just on
master):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>git checkout -b your-nice-feature
</pre></div>
</div>
</div>
<div class="section" id="python-environment-setup">
<h3>Python environment setup<a class="headerlink" href="#python-environment-setup" title="Permalink to this headline">¶</a></h3>
<p>This method will use a virtual environment, this is the easiest way to get all
the dependencies.</p>
<ol class="arabic">
<li><p class="first">Create a virtualenv by running:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>virtualenv venv -p python3
</pre></div>
</div>
</li>
<li><p class="first">Activate it by running (you should do this whenever you start working on
your changes):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">source</span> venv/bin/activate
</pre></div>
</div>
</li>
<li><p class="first">Install all the development dependencies inside the virtual environment by
running:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install -r dev_requirements.txt
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="some-tips-before-starting">
<h2>Some tips before starting<a class="headerlink" href="#some-tips-before-starting" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Make sure your install hasn&#8217;t broken anything before you start. You should
be able to run <code class="docutils literal"><span class="pre">testall.sh</span></code> with no issues before you get started on your
changes</p>
</li>
<li><p class="first">Look at the code that is already there when creating something new, and
also make sure it isn&#8217;t part of
<a class="reference external" href="https://jeltef.github.io/PyLaTeX/current/">PyLaTeX</a>.</p>
</li>
<li><p class="first">To learn how to squash commits, read this <a class="reference external" href="http://gitready.com/advanced/2009/02/10/squashing-commits-with-rebase.html">blog</a>.
Ignore the word of caution (saying that interactive rebases after changes
are pushed are bad), since this is directed to the case that other people
are working on the branch that your force push will override.</p>
<p>You can do this when you have a couple of
commits that could be merged together. This mostly happens when you have
commits that fix a typo or bug you made in a pull request and you fix that
in a new commit.</p>
</li>
</ol>
</div>
<div class="section" id="some-rules">
<h2>Some rules<a class="headerlink" href="#some-rules" title="Permalink to this headline">¶</a></h2>
<p>There are two things that are needed for every pull request:</p>
<ol class="arabic">
<li><p class="first">Run the <code class="docutils literal"><span class="pre">testall.sh</span></code> script before making a pull request to check if you
didn&#8217;t break anything.</p>
</li>
<li><p class="first">Follow the <strong>PEP8</strong> style guide and make sure it passes pyflakes (this is
also tested with the <code class="docutils literal"><span class="pre">testall.sh</span></code> script).</p>
</li>
<li><p class="first">Have a look at the coverage results locally before pushing your PR. This
is really easy to do and shows quite clearly whether your new changes
leave holes in what the testt cover. From the base directory:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>coverage run --source<span class="o">=</span>pythontikz -m pytest -v tests/*
coverage report
coverage html
</pre></div>
</div>
<p>This generates a nice easy to read breakdown of the coverage in <code class="docutils literal"><span class="pre">htmlcov/</span></code>
. Start by looking at <code class="docutils literal"><span class="pre">index.html</span></code>.</p>
</li>
</ol>
<p>These are also tested for by Travis, but please test them yourself as well.</p>
<p>Depending on your type of changes some other things are needed as well.</p>
<ol class="arabic simple">
<li>If you add new arguments, function or classes, add them to
<code class="docutils literal"><span class="pre">tests/args.py</span></code> without forgetting to name the arguments. That way it is
easy to see when the external API is changed in the future.</li>
<li>Change docstrings when necessary. For instance when adding new arguments or
changing behaviour.</li>
<li>If you fix something, add a <strong>test</strong> so it won&#8217;t break again.</li>
<li>If you add new functionality add <strong>tests</strong> for it. Make sure that the
code actually does what you think it does! Also make sure that it breaks
when you expect it to break. It is far more user friendly if you can catch
formatting errors in the python, rather than waiting for the latex
compilation to fail.</li>
<li>If your change is user facing, add it to the <strong>changelog</strong> so it will be
mentioned in the next release. Its location is at
<code class="docutils literal"><span class="pre">docs/source/changelog.rst</span></code>.</li>
<li>If you add something new, show it off with an <strong>example</strong>. If you don&#8217;t do
this, I will probably still merge your pull request, but it is always nice
to have examples of features.</li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="changelog.html" class="btn btn-neutral float-left" title="Change Log" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Matthew Richards

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>